<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSInspector devtools</title>
    <script src="lib/zepto.min.js"></script>
    <script src="lib/vue.min.js"></script>
    <link rel="stylesheet" href="inspector.css">
</head>
<body>
    <iframe src="about:blank" frameborder="0" id="inspectorFrame"></iframe>
    <div id="wrapper" style="font-size: 10px;"></div>
    <script type="text/teamplate" id="tpl-style-list">
        <ul>
            <li v-repeat="sheets" class="stylesheet">
                <div class="content">
                    <div class="head">
                        <div class="selector">{{selectorText}} {</div>
                        <a class="href" href="{{href}}">{{href | source}}</a>
                    </div>
                    <div class="rules">
                        <div v-repeat="styleRules" class="rule">
                            <div type="text" class="style-selector" contenteditable=true draggable=false>{{selector}}</div>:
                            <div type="text" class="style-value" contenteditable=true draggable=false>{{value}}</div>;
                        </div>
                    </div>
                    <div class="foot">}</div>
                </div>
            </li>
        </ul>
    </script>
    <script src="inspector.view.js"></script>
    <script src="inspector.test.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var inspectorFrame = document.querySelector('#inspectorFrame');
        var socket = io.connect('http://localhost');
        socket.on('inspect:stylesheet:update', function (data) {
            stylesList.$data.styleSheets = data.data;
        });
        socket.on('inspect:html:update', function (data) {
            inspectorFrame.contentDocument.open(); 
            inspectorFrame.contentDocument.write(data.data);
        });

    </script>
</body>
</html>